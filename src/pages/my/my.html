<!--
  Generated template for the My page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-buttons left>
            <button ion-button clear icon-only (click)="goSettingPage()">
                <ion-icon name="ios-settings-outline"></ion-icon>
            </button>
        </ion-buttons>
        <ion-title>个人中心</ion-title>
        <ion-buttons right>
            <button ion-button clear icon-only icon-left right (click)="goMessagePage()">
                <ion-icon name="mess"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)" pullMax="60">
        <ion-refresher-content refreshingSpinner="1" pullingIcon="0"></ion-refresher-content>
    </ion-refresher>
    <ion-list>
        <ion-item padding-left no-lines mode="ios" detail-none style="border-bottom: 0.5px solid #e0e0e0;">
            <ion-avatar [navPush]="AccountManagementPage" [navParams]="{avatar:userInfo?.data?.avatar,username:userInfo?.data?.username}" item-left>
                <!--<img img-lazy-load="{{userInfo?.data?.avatar}}" imageViewer alt="">-->
                <ion-img src="{{userInfo?.data?.avatar}}"></ion-img>
            </ion-avatar>
            <h2>{{userInfo?.data?.username}}</h2>
            <p class="vip">
                <ion-img src="{{userInfo?.data?.user_info?.rank_icon}}"></ion-img>
                <ion-note>{{userInfo?.data?.user_info?.rank_name||'暂无等级'}}</ion-note>
            </p>
            <button [navPush]="AccountManagementPage" [navParams]="{avatar:userInfo?.data?.avatar,username:userInfo?.data?.username}" color="gray" ion-button round outline icon-left item-right>
                <ion-icon><img style="width:1.3rem;" src="./assets/icon/images/user_cener_1_11.png" alt=""></ion-icon>
                账号管理
            </button>
        </ion-item>
        <ion-item tappable padding-left [navPush]="AllOrdersPage" [navParams]="{index:0}" no-lines mode="ios" detail-push style="border-bottom: 0.5px solid #e0e0e0;">
            <img src="./assets/icon/images/user_center_5.png" alt="" item-left class="myitem-icon"> 全部订单
        </ion-item>
        <ion-item>
            <div class="indent-info">
                <div tappable [navPush]="AllOrdersPage" [navParams]="{index:1}">
                    <div class="number">{{usercount?.data?.unpay||0}}</div>
                    <div class="text">待付款</div>
                </div>
                <div tappable [navPush]="AllOrdersPage" [navParams]="{index:2}">
                    <div class="number">{{usercount?.data?.shipping||0}}</div>
                    <div class="text">待发货</div>
                </div>
                <div tappable [navPush]="AllOrdersPage" [navParams]="{index:3}">
                    <div class="number">{{usercount?.data?.unshipping||0}}</div>
                    <div class="text">待收货</div>
                </div>
                <div tappable [navPush]="'RepairReturnPage'">
                    <div class="number">敬请期待</div>
                    <div class="text">返修退换</div>
                </div>
            </div>
        </ion-item>
    </ion-list>
    <ion-list>
        <ion-item padding-left no-lines mode="ios" style="border-bottom: 0.5px solid #e0e0e0;">
            <img src="./assets/icon/images/user_center_9.png" alt="" item-left class="myitem-icon"> 我的资产
        </ion-item>
        <ion-item padding-left>
            <div class="myAssets-info">
                <div tappable [navPush]="CouponPage">
                    <div class="number">{{usercount?.data?.bonus_count||0}}张可用</div>
                    <div class="text">优惠券</div>
                </div>
                <div tappable [navPush]="AccountJifenPage" [navParams]="{number:userInfo?.data?.integral}">
                    <div class="number">{{userInfo?.data?.integral||0}}</div>
                    <div class="text">积分</div>
                </div>
                <div tappable [navPush]="AccountBalancePage">
                    <div class="number">{{userInfo?.data?.user_money||0}}</div>
                    <div class="text">余额</div>
                </div>
                <div>
                    <div class="number">敬请期待</div>
                    <div class="text">白条</div>
                </div>
            </div>
        </ion-item>
    </ion-list>
    <ion-list *ngIf="userInfo?.data?.ywy?.name!='您是业务员！'">
        <ion-item tappable (click)="goMySalesmanPage()" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_11.png" alt="" item-left class="myitem-icon"> 我的业务员
        </ion-item>
    </ion-list>
    <ion-list>
        <ion-item tappable (click)="goAccountProcessPage()" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_1.png" alt="" item-left class="myitem-icon"> 来镜加工
        </ion-item>
        <ion-item tappable [navPush]="PeceiptPage" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_4.png" alt="" item-left class="myitem-icon"> 发票管理
        </ion-item>
    </ion-list>
    <ion-list>
        <ion-item tappable [navPush]="DredgeMoreCityPage" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_2.png" alt="" item-left class="myitem-icon"> 地区申请
        </ion-item>
    </ion-list>
    <ion-list>
        <ion-item tappable [navPush]="AccountCollectGoodsPage" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_8.png" alt="" item-left class="myitem-icon"> 收藏的商品
        </ion-item>
        <ion-item tappable [navPush]="AccountCollectStorePage" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_3.png" alt="" item-left class="myitem-icon"> 收藏的店铺
        </ion-item>
        <ion-item tappable [navPush]="AccountHistoryPage" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_7.png" alt="" item-left class="myitem-icon"> 浏览记录
            <!--<ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>-->
        </ion-item>
    </ion-list>
    <ion-list>
        <ion-item tappable (click)="goAccountServicePage()" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_center_6.png" alt="" item-left class="myitem-icon"> 镜库客服
        </ion-item>
        <ion-item tappable [navPush]="AccountHelperPage" padding-left mode="ios" detail-push>
            <img src="./assets/icon/images/user_cener_1_38.png" alt="" item-left class="myitem-icon"> 帮助中心
        </ion-item>
    </ion-list>
</ion-content>