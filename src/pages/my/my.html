<!--
  Generated template for the My page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-buttons left>
            <button ion-button clear icon-only (click)="goSettingPage()"><ion-icon name="ios-settings-outline"></ion-icon></button>
        </ion-buttons>
        <ion-title>个人中心</ion-title>
        <ion-buttons right>
            <button ion-button clear icon-only icon-left right (click)="goMessagePage()"><img src="./assets/icon/images/user_cener_1_03.png" width="20"></button>
        </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)" pullMax="60">
        <ion-refresher-content refreshingSpinner="1" pullingIcon="0"></ion-refresher-content>
    </ion-refresher>
    <div class="avatar" *ngIf="userInfo||usercount">
        <ion-list no-margin>
            <ion-item padding-left no-lines mode="ios" style="border-bottom: 0.5px solid #e0e0e0;">
                <ion-avatar item-left>
                    <img src="{{userInfo?.data?.avatar||'./assets/icon/images/brand_1_10.jpg'}}">
                </ion-avatar>
                <h2>{{userInfo?.data?.username}}</h2>
                <p class="vip">
                    <ion-img src="{{userInfo?.data?.user_info?.rank_icon}}"></ion-img>
                    <ion-note>{{userInfo?.data?.user_info?.rank_name}}</ion-note>
                </p>
                <button [navPush]="AccountManagementPage" [navParams]="{avatar:userInfo?.data?.avatar}" color="gray" ion-button round outline icon-left item-right>
                    <ion-icon><img style="width:1.3rem;" src="./assets/icon/images/user_cener_1_11.png" alt=""></ion-icon>
                    账号管理
                </button>
            </ion-item>
            <ion-item padding-left [navPush]="AllOrdersPage" [navParams]="{index:0}" no-lines mode="ios" style="border-bottom: 0.5px solid #e0e0e0;">
                <ion-icon item-left><img src="./assets/icon/images/user_cener_1_15.png" alt=""></ion-icon>
                全部订单
                <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
            </ion-item>
            <ion-item>
                <div class="indent-info">
                    <div [navPush]="AllOrdersPage" [navParams]="{index:1}">
                        <div class="number">{{usercount?.data?.unpay||0}}</div>
                        <div class="text">待付款</div>
                    </div>
                    <div [navPush]="AllOrdersPage" [navParams]="{index:2}">
                        <div class="number">{{usercount?.data?.shipping||0}}</div>
                        <div class="text">待发货</div>
                    </div>
                    <div [navPush]="AllOrdersPage" [navParams]="{index:3}">
                        <div class="number">{{usercount?.data?.unshipping||0}}</div>
                        <div class="text">待收货</div>
                    </div>
                    <div>
                        <!--{{usercount?.data?.return||0}}-->
                        <div class="number">敬请期待</div>
                        <div class="text">返修退换</div>
                    </div>
                </div>
            </ion-item>
        </ion-list>
    </div>
    <div class="background"></div>
    <div class="myAssets">
        <ion-list no-margin>
            <ion-item padding-left no-lines mode="ios" style="border-bottom: 0.5px solid #e0e0e0;">
                <ion-icon item-left><img src="./assets/icon/images/user_cener_1_19.png" alt=""></ion-icon>
                我的资产
            </ion-item>
            <ion-item padding-left>
                <div class="myAssets-info">
                    <div [navPush]="CouponPage">
                        <div class="number">{{usercount?.data?.bonus_count||0}}张可用</div>
                        <div class="text">优惠券</div>
                    </div>
                    <div [navPush]="AccountJifenPage" [navParams]="{number:userInfo?.data?.integral}">
                        <div class="number">{{userInfo?.data?.integral||0}}</div>
                        <div class="text">积分</div>
                    </div>
                    <div [navPush]="AccountBalancePage">
                        <div class="number">{{userInfo?.data?.user_money||0}}</div>
                        <div class="text">余额</div>
                    </div>
                    <div>
                        <div class="number">敬请期待</div>
                        <div class="text">白条</div>
                    </div>
                </div>
            </ion-item>
        </ion-list>
    </div>
    <div class="background"></div>
    <ion-list no-margin>
        <ion-item (click)="goAccountProcessPage()" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_23.png" alt=""></ion-icon>
            来镜加工
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
        <ion-item [navPush]="PeceiptPage" padding-left mode="ios" [navPush]="PeceiptPage">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_26.png" alt=""></ion-icon>
            发票管理
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
    </ion-list>
    <div class="background"></div>
    <ion-list no-margin>
        <ion-item [navPush]="DredgeMoreCityPage" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_28.png" alt=""></ion-icon>
            地区申请
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
    </ion-list>
    <div class="background"></div>
    <ion-list no-margin>
        <ion-item [navPush]="AccountCollectGoodsPage" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_30.png" alt=""></ion-icon>
            收藏的商品
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
        <ion-item [navPush]="AccountCollectStorePage" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_32.png" alt=""></ion-icon>
            收藏的店铺
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
        <ion-item [navPush]="AccountHistoryPage" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_34.png" alt=""></ion-icon>
            浏览记录
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
    </ion-list>
    <div class="background"></div>
    <ion-list no-margin>
        <ion-item (click)="goAccountServicePage()" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_36.png" alt=""></ion-icon>
            镜库客服
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
        <ion-item [navPush]="AccountHelperPage" padding-left mode="ios">
            <ion-icon item-left><img src="./assets/icon/images/user_cener_1_38.png" alt=""></ion-icon>
            帮助中心
            <ion-icon color="gray" name="ios-arrow-forward" item-right></ion-icon>
        </ion-item>
    </ion-list>
    <div class="background"></div>
</ion-content>