<!--
  Generated template for the BrandList page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-toolbar>
        <ion-navbar>
            <ion-searchbar [(ngModel)]="myHomeSearch" (ionInput)="onInput($event)" placeholder="" animated="false" spellcheck="true" type="search" debounce="1000" mode="ios">
            </ion-searchbar>
            <ion-buttons end>
                <button ion-button clear icon-only icon-left (click)="listStyleflag=!listStyleflag">
                <img src="./assets/icon/images/list_01.png" width="22" *ngIf="!listStyleflag" alt="">
                <img src="./assets/icon/images/list_02.png" width="22" *ngIf="listStyleflag" alt="">
                </button>
            </ion-buttons>
        </ion-navbar>
    </ion-toolbar>
    <ion-toolbar class="segment-style">
        <!--<my-toolbar></my-toolbar>-->
        <ion-segment [(ngModel)]="mytool" (ionChange)="mytoolChange()" color="primary">
            <ion-segment-button value="all">
                综合
                <div [ngClass]="allStatus==false?'sortup':'sortdown'" class="myicon">
                    <div [ngStyle]="{'height':'7px'}">
                        <ion-icon name="md-arrow-dropup"></ion-icon>
                    </div>
                    <div>
                        <ion-icon name="md-arrow-dropdown"></ion-icon>
                    </div>
                </div>
            </ion-segment-button>
            <ion-segment-button value="sales_num">
                销量
                <div [ngClass]="salesNumStatus==false?'sortup':'sortdown'" class="myicon">
                    <div [ngStyle]="{'height':'7px'}">
                        <ion-icon name="md-arrow-dropup"></ion-icon>
                    </div>
                    <div>
                        <ion-icon name="md-arrow-dropdown"></ion-icon>
                    </div>
                </div>
            </ion-segment-button>
            <ion-segment-button value="shop_price">
                价格
                <div [ngClass]="shopPriceStatus==false?'sortup':'sortdown'" class="myicon">
                    <div [ngStyle]="{'height':'7px'}">
                        <ion-icon name="md-arrow-dropup"></ion-icon>
                    </div>
                    <div>
                        <ion-icon name="md-arrow-dropdown"></ion-icon>
                    </div>
                </div>
            </ion-segment-button>
            <ion-segment-button menuToggle value="">
                筛选
                <img src="./assets/icon/images/filter.png" width="18" alt="">
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>
</ion-header>


<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)" pullMax="60">
        <ion-refresher-content refreshingSpinner="1" pullingIcon="0"></ion-refresher-content>
    </ion-refresher>


    <div *ngIf="data?.goods?.length!=0" style=" background:#f7f7f7;">
        <div style="padding:10px;" *ngIf="!listStyleflag">
            <single-foods-card [data]="data?.goods"></single-foods-card>
        </div>
        <single-foods-item [data]="data?.goods" *ngIf="listStyleflag"></single-foods-item>
    </div>

    <ion-fab class="brand-list-car-btn" left bottom (click)="goCarPage()">
        <button ion-fab mini>
            <ion-icon name="ios-cart-outline" color="light"></ion-icon>
        </button>
        <ion-badge color="danger">{{goodsCount||'0'}}</ion-badge>
    </ion-fab>
    <ion-fab right bottom (click)="scrollToTop()">
        <button ion-fab color="dark" mini>
            <img width="100%" src="./assets/icon/gotop.png" alt="">
        </button>
    </ion-fab>

    <!--   <ion-infinite-scroll (ionInfinite)="doInfinite($event)" *ngIf="flag">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>-->
</ion-content>
<ion-footer>
    <ion-toolbar color="light">
        <ion-buttons left>
            <button (click)="previousPage()" ion-button>
                上一页
            </button>
        </ion-buttons>
        <ion-title>{{data?.pages!=0?data?.page:'0'}}/{{data?.pages}}</ion-title>
        <ion-buttons right>
            <button (click)="nextPage()" ion-button>
                下一页
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>