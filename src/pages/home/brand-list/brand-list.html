<!--
  Generated template for the BrandList page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <ion-title>
            <ion-searchbar [(ngModel)]="myHomeSearch" (ionInput)="onInput($event)" placeholder="搜索商品" animated="false" spellcheck="true" type="search" debounce="500" mode="ios" showCancelButton cancelButtonText="取消"></ion-searchbar>
        </ion-title>
        <ion-buttons end>
            <button ion-button clear icon-only icon-left (click)="listStyleflag=!listStyleflag">
                <img src="./assets/icon/images/list_01.png" width="22" *ngIf="!listStyleflag" alt="">
                <img src="./assets/icon/images/list_02.png" width="22" *ngIf="listStyleflag" alt="">
            </button>
        </ion-buttons>
    </ion-navbar>
    <ion-toolbar class="segment-style">
        <!--<my-toolbar></my-toolbar>-->
        <ion-segment mode="md" [(ngModel)]="mytool" (click)="mytoolChange()" color="primary">
            <ion-segment-button value="all">
                综合
                <div [ngClass]="allStatus==false?'sortup':'sortdown'" class="myicon">
                    <div [ngStyle]="{'height':'7px'}">
                        <ion-icon name="md-arrow-dropup"></ion-icon>
                    </div>
                    <div>
                        <ion-icon name="md-arrow-dropdown"></ion-icon>
                    </div>
                </div>
            </ion-segment-button>
            <ion-segment-button value="sales_num">
                销量
                <div [ngClass]="salesNumStatus==false?'sortup':'sortdown'" class="myicon">
                    <div [ngStyle]="{'height':'7px'}">
                        <ion-icon name="md-arrow-dropup"></ion-icon>
                    </div>
                    <div>
                        <ion-icon name="md-arrow-dropdown"></ion-icon>
                    </div>
                </div>
            </ion-segment-button>
            <ion-segment-button value="shop_price">
                价格
                <div [ngClass]="shopPriceStatus==false?'sortup':'sortdown'" class="myicon">
                    <div [ngStyle]="{'height':'7px'}">
                        <ion-icon name="md-arrow-dropup"></ion-icon>
                    </div>
                    <div>
                        <ion-icon name="md-arrow-dropdown"></ion-icon>
                    </div>
                </div>
            </ion-segment-button>
            <ion-segment-button menuToggle value="">
                筛选
                <img src="./assets/icon/images/filter.png" width="18" alt="">
            </ion-segment-button>
        </ion-segment>
    </ion-toolbar>
</ion-header>


<ion-content>
    <ion-refresher (ionRefresh)="doRefresh($event)" pullMax="60">
        <ion-refresher-content refreshingSpinner="1" pullingIcon="0"></ion-refresher-content>
    </ion-refresher>

    <no-goods *ngIf="data&&!data?.goods?.length"></no-goods>
    <single-foods-card [data]="data?.goods" *ngIf="!listStyleflag"></single-foods-card>
    <single-foods-item [data]="data?.goods" *ngIf="listStyleflag"></single-foods-item>

    <ion-fab class="brand-list-car-btn" left bottom>
        <button class="car" ion-fab mini icon-only (click)="goCarPage()">
            <ion-icon name="ios-cart-outline" color="light"></ion-icon>
        </button>
        <ion-badge color="danger">{{goodsCount||'0'}}</ion-badge>
    </ion-fab>
    <ion-fab right bottom>
        <button class="fab-button-fadeout" ion-fab #scrollToTop1 mini goBackTop (click)="scrollToTop()"></button>
    </ion-fab>
    <ion-fab bottom center class="page" style="pointer-events: none;">
        <button ion-fab mini id="pagebtn" class="fab-button-fadeout">
            {{data?.page}}/{{data?.pages}}
        </button>
    </ion-fab>

    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
        <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
</ion-content>
<!-- <ion-footer>
    <ion-toolbar color="light">
        <ion-buttons left>
            <button (click)="previousPage()" ion-button>
                上一页
            </button>
        </ion-buttons>
        <ion-title>{{data?.pages!=0?data?.page:'0'}}/{{data?.pages}}</ion-title>
        <ion-buttons right>
            <button (click)="nextPage()" ion-button>
                下一页
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer> -->