<!--
  Generated template for the DredgeMoreCity page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>开通城市</ion-title>
    </ion-navbar>

</ion-header>


<ion-content>
    <form action="" novalidate #dredgeCity="ngForm">
        <div class="head">
            <p ion-text color="colorsix" padding-horizontal>
                已开通城市：
                <span *ngFor="let item of reginArr?.user_citys">{{item.region_name}} </span>
            </p>
            <p ion-text color="colorsix" padding-horizontal>未开通城市：(点击即可，只可单选)</p>
        </div>
        <div class="checkbox-wrapper">
            <div *ngFor="let item of reginArr?.no_user_citys" [ngClass]="{'selected':item.selected}" (click)="selectCity(item)" tappable>{{item.region_name}}</div>
        </div>
        <p ion-text color="colorsix" padding-horizontal><span ion-text color="danger">* </span>申请原因：</p>
        <ion-textarea class="textarea" required [(ngModel)]="formData.reason" name="reason"></ion-textarea>
        <p ion-text color="colorsix" padding-horizontal><span ion-text color="danger">* </span>手机号：</p>
        <ion-textarea class="textarea" type="number" required [(ngModel)]="formData.phone" name="phone"></ion-textarea>
        <div class="idcard" ion-text color="colorsix" padding-horizontal>
            营业执照：
            <div class="add-zhizhao" style="position: relative; " item-center icon-top>
                <ion-icon name="md-add"></ion-icon>
                选择文件
                <input type="file" style="width:100%;height:100%;position: absolute;opacity: 0;top:0;left: 0;" (get-image)="formData.zhizhao = $event">
            </div>
            <!--<input type="file" (change)="onFileChange($event)">-->
            <span color="danger" *ngIf="!formData.zhizhao" ion-text>请上传图片</span>
            <div>
                <img src="{{formData.zhizhao}}" alt="">
            </div>
        </div>
    </form>
</ion-content>
<ion-footer>
    <div class="btns">
        <button large ion-button color="cancelBtn" navPop>取消</button>
        <button large ion-button color="dark" [disabled]="!dredgeCity.form.valid" (click)="onsubmit()">确定</button>
    </div>
</ion-footer>