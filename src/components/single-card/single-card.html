<!--
  Generated template for the SingleCard component.

  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html
  for more info on Angular 2 Components.
-->
<ion-card *ngFor="let item of animateItems; let i = index;" mode="md">
    <div class="card-wrap" tappable (click)="$event.stopPropagation();" [ngClass]="animateClass" [navPush]="ParticularsPage"
        [navParams]="{goodsId:item.id,cutId:item.cutting_id>0?item.cutting_id:0}">
        <div class="img">
            <img img-lazy-load="{{item?.goods_img}}" alt="">
            <div class="chips">
                <div class="sale" *ngIf="item.is_promote==1">SALE</div>
                <div class="hot" *ngIf="item.is_hot==1">HOT</div>
                <div class="new" *ngIf="item.is_new==1">NEW</div>
            </div>
        </div>
        <div class="info">
            <div class="text">{{item.short_name}}</div>
            <div class="price">
                <span *ngIf="mine?.showPrice">{{item.shop_price}}</span>&nbsp;
                <button ion-button small color="jingku1" mode="md" (click)="openAttrModal($event,item)"
                    outline>选规格</button>
            </div>
        </div>
    </div>
    <div class="background" tappable (click)="item.showBtn=false;$event.stopPropagation()" *ngIf="item.showBtn"></div>

    <ion-fab center middle #fab *ngIf="item.showBtn">
        <button color="light" ion-fab (click)="$event.stopPropagation();" [navPush]="ParticularsPage" [navParams]="{goodsId:item.id}">购物车</button>
        <button color="danger" ion-fab [disabled]="item.is_collect" (click)="onCollect(item,$event)">{{item.is_collect?'已关注':'关注'}}</button>
    </ion-fab>
</ion-card>